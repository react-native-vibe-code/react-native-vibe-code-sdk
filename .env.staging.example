# Staging environment variable overrides
# ----------------------------------------
# These are the values that should DIFFER between staging and production.
# All other variables from .env.example apply unchanged.
#
# In Vercel: set these under Settings → Environment Variables, scoped to "Preview"
# (optionally restricted to the "staging" branch for branch-specific isolation).
#
# The staging deployment URL is: https://staging.reactnativevibecode.com

# ── App URLs ────────────────────────────────────────────────────────────────────
# Tell the app its own public URL so OAuth callbacks and auth work correctly.
NEXT_PUBLIC_APP_URL=https://staging.reactnativevibecode.com
NEXT_PUBLIC_BASE_URL=https://staging.reactnativevibecode.com
NEXT_PUBLIC_SITE_URL=https://staging.reactnativevibecode.com
# Leave NEXT_PUBLIC_PROD_URL pointing to production (used only when VERCEL_ENV=production)
NEXT_PUBLIC_PROD_URL=https://www.reactnativevibecode.com

# ── Database ─────────────────────────────────────────────────────────────────────
# Use a SEPARATE staging database — never share the production database.
DATABASE_URL=postgresql://USER:PASSWORD@HOST/staging_db

# ── Authentication ────────────────────────────────────────────────────────────────
# Generate a distinct secret for staging (min 32 chars, never share with production).
BETTER_AUTH_SECRET=<generate-a-new-32-char-secret-for-staging>

# Google OAuth — create separate OAuth credentials for staging in Google Cloud Console,
# with Authorized Redirect URIs pointing to staging.reactnativevibecode.com
GOOGLE_CLIENT_ID=<staging-google-client-id>
GOOGLE_CLIENT_SECRET=<staging-google-client-secret>

# ── Billing (Polar) ────────────────────────────────────────────────────────────────
# Use Polar's sandbox server for staging so no real payments are processed.
POLAR_SERVER=sandbox
POLAR_ACCESS_TOKEN=<your-polar-sandbox-access-token>
POLAR_WEBHOOK_SECRET=<your-polar-sandbox-webhook-secret>
# Sandbox product IDs from your Polar sandbox dashboard
NEXT_PUBLIC_POLAR_START_PRODUCT_ID=<sandbox-start-product-id>
NEXT_PUBLIC_POLAR_PRO_PRODUCT_ID=<sandbox-pro-product-id>
NEXT_PUBLIC_POLAR_SENIOR_PRODUCT_ID=<sandbox-senior-product-id>

# ── Real-time (Pusher) ─────────────────────────────────────────────────────────────
# Optionally use a separate Pusher app for staging to isolate events.
NEXT_PUBLIC_PUSHER_APP_KEY=<staging-pusher-key>
PUSHER_APP_ID=<staging-pusher-app-id>
PUSHER_APP_SECRET=<staging-pusher-secret>
NEXT_PUBLIC_PUSHER_CLUSTER=<pusher-cluster>

# ── E2B Sandboxes ─────────────────────────────────────────────────────────────────
# You can share the same E2B key as production, or use a separate one for staging.
E2B_API_KEY=<e2b-api-key>

# ── Inngest ───────────────────────────────────────────────────────────────────────
# Use Inngest's staging/dev branch or a separate app for background jobs.
INNGEST_EVENT_KEY=<staging-inngest-event-key>
INNGEST_SIGNING_KEY=<staging-inngest-signing-key>

# ── Additional trusted origins ─────────────────────────────────────────────────────
# Add your Vercel preview URL pattern here if needed (e.g. Vercel bot previews).
# The regex .*\.reactnativevibecode\.com already covers staging.reactnativevibecode.com.
ADDITIONAL_TRUSTED_ORIGINS=https://staging.reactnativevibecode.com

# ── Anthropic ─────────────────────────────────────────────────────────────────────
# You can share the production key or use a rate-limited staging key.
ANTHROPIC_API_KEY=<anthropic-api-key>
