# Daytona Workspace Configuration for GitHub Sandbox
#
# This file configures the Daytona workspace template for GitHub-integrated
# React Native development. It mirrors the capabilities of the E2B github-template.
#
# Usage with Daytona CLI:
#   daytona create --config packages/sandbox/templates/daytona-github-template/daytona.yaml
#
# Or programmatically via the @daytonaio/sdk:
#   const workspace = await daytona.create({
#     image: '<your-registry>/react-native-vibe-code/github-sandbox:latest',
#     envVars: { ANTHROPIC_API_KEY: '...', GITHUB_TOKEN: '...', GITHUB_OWNER: '...' },
#     resources: { cpu: 4, memory: 4096 },
#   })

name: github-sandbox
description: React Native GitHub sandbox for AI-powered app generation with GitHub integration

# Docker image (build from the Dockerfile in this directory and push to your registry)
# Replace with your actual registry URL after building:
#   docker build -t <registry>/react-native-vibe-code/github-sandbox:latest \
#     -f packages/sandbox/templates/daytona-github-template/Dockerfile .
#   docker push <registry>/react-native-vibe-code/github-sandbox:latest
image: ubuntu:22.04  # Replace with your built image

# Resource allocation (matches E2B template configuration)
resources:
  cpu: 4
  memory: 4096  # MB

# Environment variables (set sensitive values via Daytona secrets or DAYTONA_IMAGE_ENV)
# These are provided at runtime via the @daytonaio/sdk envVars option.
env:
  NODE_OPTIONS: "--max_old_space_size=4096"
  # ANTHROPIC_API_KEY: set at runtime
  # GITHUB_TOKEN: set at runtime
  # GITHUB_OWNER: set at runtime

# Auto-stop interval in minutes (equivalent to E2B's 1-hour timeout)
autoStopInterval: 60
